(this["webpackJsonprepos-protocols-client"]=this["webpackJsonprepos-protocols-client"]||[]).push([[0],{101:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a(20),s=a.n(r),c=(a(76),a(7)),i=a.n(c),o=a(9),l=a(14),d=a(17),j=a(19),h=a(18),u=a(70),b=a(8),x=a(110),p=(a(78),a(114)),m=a(113),O=a(0),g=function(){return Object(O.jsxs)(p.a,{bg:"dark",expand:"lg",children:[Object(O.jsx)(p.a.Brand,{href:"/",children:Object(O.jsx)("span",{className:"nav-text",children:"Protocolos"})}),Object(O.jsx)(p.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(O.jsxs)(p.a.Collapse,{id:"basic-navbar-nav",children:[Object(O.jsx)(m.a,{className:"mr-auto",children:Object(O.jsx)(m.a.Link,{href:"/#/oai-pmh",children:Object(O.jsx)("span",{className:"nav-text",children:"OAI-PMH"})})}),Object(O.jsx)(m.a,{className:"mr-auto",children:Object(O.jsx)(m.a.Link,{href:"/#/open-search",children:Object(O.jsx)("span",{className:"nav-text",children:"OpenSearch"})})}),Object(O.jsx)(m.a,{className:"mr-auto",children:Object(O.jsx)(m.a.Link,{href:"/#/sru",children:Object(O.jsx)("span",{className:"nav-text",children:"SRU"})})}),Object(O.jsx)(m.a,{className:"mr-auto",children:Object(O.jsx)(m.a.Link,{href:"/#/sword",children:Object(O.jsx)("span",{className:"nav-text",children:"SWORD"})})})]})]})},f=function(){return Object(O.jsx)("div",{children:Object(O.jsxs)("p",{children:["Esta es una colecci\xf3n de clientes para distintos protocolos utilizados para obtenci\xf3n, dep\xf3sito e intercambio de metadatos en repositorios.",Object(O.jsx)("br",{}),"Se puede cada cliente en el men\xfa superior."]})})},v=a(117),C=a(34),y=a.n(C),T="https://repos-protocols-demo-server.herokuapp.com",S=function e(){Object(l.a)(this,e)};S.oaiPmhRequest=function(){var e=Object(o.a)(i.a.mark((function e(t){var a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(T,"/oai/"),e.prev=1,e.next=4,fetch(a+t);case 4:return n=e.sent,e.abrupt("return",n.text());case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return","<xml><user_message>Ocurri\xf3 un error</user_message></xml>");case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),S.openSearchRequest=function(){var e=Object(o.a)(i.a.mark((function e(t){var a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(T,"/open-search/discover"),e.prev=1,e.next=4,fetch(a+t);case 4:return n=e.sent,e.abrupt("return",n.text());case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return","<xml><user_message>Ocurri\xf3 un error</user_message></xml>");case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),S.sruRequest=function(){var e=Object(o.a)(i.a.mark((function e(t){var a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(T,"/sru"),e.prev=1,e.next=4,fetch(a+t);case 4:return n=e.sent,e.abrupt("return",n.text());case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return","<xml><user_message>Ocurri\xf3 un error</user_message></xml>");case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),S.swordRequest=function(){var e=Object(o.a)(i.a.mark((function e(t,a){var n,r,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(T,"/swordv2"),(r=new Headers).set("Authorization","Basic "+y.a.encode(t+":"+a)),"/servicedocument",e.prev=4,e.next=7,fetch(n+"/servicedocument",{method:"GET",headers:r});case 7:if(401!==(s=e.sent).status&&403!==s.status){e.next=10;break}return e.abrupt("return","Unauthorized");case 10:return e.abrupt("return",s.text());case 13:return e.prev=13,e.t0=e.catch(4),e.abrupt("return","<xml><user_message>Ocurri\xf3 un error</user_message></xml>");case 16:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(t,a){return e.apply(this,arguments)}}(),S.swordStepOne=function(){var e=Object(o.a)(i.a.mark((function e(t,a,n,r){var s,c,o,l,d=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=d.length>4&&void 0!==d[4]?d[4]:"",c="".concat(T,"/swordv2"),(o=new Headers).set("Authorization","Basic "+y.a.encode(t+":"+a)),""!==s&&o.set("On-Behalf-Of",s),o.set("In-Progress","true"),o.set("Content-Type","application/atom+xml;type=entry"),e.prev=7,e.next=10,fetch("".concat(c,"/collection/").concat(n),{method:"POST",headers:o,body:r});case 10:if(401!==(l=e.sent).status&&403!==l.status){e.next=13;break}return e.abrupt("return","Unauthorized");case 13:return e.abrupt("return",l.text());case 16:return e.prev=16,e.t0=e.catch(7),e.abrupt("return","<xml><user_message>Ocurri\xf3 un error</user_message></xml>");case 19:case"end":return e.stop()}}),e,null,[[7,16]])})));return function(t,a,n,r){return e.apply(this,arguments)}}(),S.swordStepTwo=function(){var e=Object(o.a)(i.a.mark((function e(t,a,n){var r,s,c,o,l=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>3&&void 0!==l[3]?l[3]:"",s="".concat(T,"/swordv2"),(c=new Headers).set("Authorization","Basic "+y.a.encode(t+":"+a)),c.set("Content-Length",0),c.set("In-Progress","false"),""!==r&&c.set("On-Behalf-Of",r),e.prev=7,e.next=10,fetch("".concat(s,"/edit/").concat(n),{method:"POST",headers:c});case 10:if(401!==(o=e.sent).status&&403!==o.status){e.next=13;break}return e.abrupt("return","Unauthorized");case 13:if(400!==o.status){e.next=15;break}return e.abrupt("return","Bad Request");case 15:return e.abrupt("return",o.text());case 18:return e.prev=18,e.t0=e.catch(7),e.abrupt("return","<xml><user_message>Ocurri\xf3 un error</user_message></xml>");case 21:case"end":return e.stop()}}),e,null,[[7,18]])})));return function(t,a,n){return e.apply(this,arguments)}}(),S.restRequest=function(){var e=Object(o.a)(i.a.mark((function e(t,a){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"http://localhost:8000/rest",e.prev=1,e.next=4,fetch("http://localhost:8000/rest"+t+"/"+a+"?expand=metadata");case 4:return n=e.sent,e.abrupt("return",n.text());case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return","<xml><user_message>Ocurri\xf3 un error</user_message></xml>");case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,a){return e.apply(this,arguments)}}();var E=a(39),k=a(107),N=a(68),L=a(112),R=a(111),w=a(108),B=a(109),P=a(106),G=a(115),A=a(116),M=a(22),F=function(e,t){var a=e.getElementsByTagName("error");if(a.length>0)return"noRecordsMatch"===a[0].getAttribute("code")?"No hay resultados":"Ocurri\xf3 un error. Consulte la respuesta en crudo para ver los detalles.";switch(t){case"Identify":var n=e.getElementsByTagName("repositoryName");if(0===n.length)return Object(O.jsx)("span",{children:'"Respuesta incorrecta!"'});var r=n[0].textContent,s=e.getElementsByTagName("baseURL");if(0===s.length)return Object(O.jsx)("span",{children:'"Respuesta incorrecta!"'});var c=s[0].textContent,i=e.getElementsByTagName("adminEmail");if(0===i.length)return Object(O.jsx)("span",{children:'"Respuesta incorrecta!"'});var o=i[0].textContent;return Object(O.jsxs)("ul",{children:[Object(O.jsxs)("li",{children:[Object(O.jsx)("b",{children:"Nombre del repositorio [repositoryName]: "})," ",r]}),Object(O.jsxs)("li",{children:[Object(O.jsx)("b",{children:"URL base (de este contexto) [baseURL]:"})," ",c]}),Object(O.jsxs)("li",{children:[Object(O.jsx)("b",{children:"Casilla de administraci\xf3n [adminEmail]:"})," ",o]})]});case"ListMetadataFormats":for(var l=[],d=e.getElementsByTagName("metadataFormat"),j=0;j<d.length;j++)l.push(d[j]);return Object(O.jsx)("ul",{children:l.map((function(e,t){var a=e.getElementsByTagName("metadataPrefix")[0].textContent,n=e.getElementsByTagName("schema")[0].textContent,r=e.getElementsByTagName("metadataNamespace")[0].textContent;return Object(O.jsxs)("li",{children:[Object(O.jsx)("b",{children:"Prefijo:"})," ",a,Object(O.jsxs)("ul",{children:[Object(O.jsxs)("li",{children:["Schema [schema]: ",n]}),Object(O.jsxs)("li",{children:["Namespace [metadataNamespace]: ",r]})]})]},t)}))});case"ListSets":for(var h=[],u=e.getElementsByTagName("set"),b=0;b<u.length;b++)h.push(u[b]);var x=e.getElementsByTagName("resumptionToken")[0],p=x.textContent,m=x.getAttribute("completeListSize"),g=x.getAttribute("cursor");return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("ul",{children:[Object(O.jsxs)("li",{children:[Object(O.jsx)("b",{children:"Cantidad total de elementos [completeListSize]: "})," ",m," (100 por p\xe1gina)"]}),Object(O.jsxs)("li",{children:[Object(O.jsx)("b",{children:"Token de continuaci\xf3n (tomar nota para pedir la siguiente p\xe1gina) [resumptionToken]:"})," ",p]}),Object(O.jsxs)("li",{children:[Object(O.jsx)("b",{children:"P\xe1gina [cursor + 1]:"})," ",parseInt(g)+1]})]}),Object(O.jsx)("ul",{children:h.map((function(e,t){var a=e.getElementsByTagName("setSpec")[0].textContent,n=e.getElementsByTagName("setName")[0].textContent;return Object(O.jsxs)("li",{children:[Object(O.jsxs)("b",{children:["Set encontrado No.",t+1+parseInt(g),":"]}),Object(O.jsxs)("ul",{children:[Object(O.jsxs)("li",{children:["Nombre [setName]: ",n]}),Object(O.jsxs)("li",{children:["Identificador [setSpec]: ",a]})]})]},t)}))})]});case"ListIdentifiers":for(var f=[],v=e.getElementsByTagName("header"),C=0;C<v.length;C++)f.push(v[C]);var y,T,S,E=e.getElementsByTagName("resumptionToken");if(E.length>0){var k=E[0];y=k.textContent,T=k.getAttribute("completeListSize"),S=k.getAttribute("cursor")}else y="",T=1,S=0;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("ul",{children:[Object(O.jsxs)("li",{children:[Object(O.jsx)("b",{children:"Cantidad total de elementos [completeListSize]: "})," ",T," (100 por p\xe1gina)"]}),Object(O.jsxs)("li",{children:[Object(O.jsx)("b",{children:"Token de continuaci\xf3n (tomar nota para pedir la siguiente p\xe1gina) [resumptionToken]:"})," ",y]}),Object(O.jsxs)("li",{children:[Object(O.jsx)("b",{children:"P\xe1gina [cursor + 1]:"})," ",parseInt(S)+1]})]}),Object(O.jsx)("ul",{children:f.map((function(e,t){for(var a=e.getElementsByTagName("identifier")[0].textContent,n=e.getElementsByTagName("datestamp")[0].textContent,r=[],s=e.getElementsByTagName("setSpec"),c=0;c<s.length;c++)r.push(s[c]);return Object(O.jsxs)("li",{children:[Object(O.jsxs)("b",{children:["Recurso encontrado No.",t+1+100*parseInt(S),":"]}),Object(O.jsxs)("ul",{children:[Object(O.jsxs)("li",{children:["Identificador [identifier]: ",a]}),Object(O.jsxs)("li",{children:["Fecha [datestamp]: ",n]}),Object(O.jsxs)("li",{children:["Pertenece a los conjuntos [setSpec]:",Object(O.jsx)("ul",{children:r.map((function(e,a){return Object(O.jsx)("li",{children:e.textContent},"set-".concat(t,"-").concat(a))}))})]})]})]},t)}))})]});case"ListRecords":for(var N=[],L=[],R=e.getElementsByTagName("header"),w=0;w<R.length;w++){N.push(R[w]);for(var B=R[w].nextSibling.firstChild.children,M=[],F=0;F<B.length;F++){var I=B[F];M.push(I)}L.push(M)}var z=e.getElementsByTagName("resumptionToken")[0],D=z.textContent,q=z.getAttribute("completeListSize"),Q=z.getAttribute("cursor");return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("ul",{children:[Object(O.jsxs)("li",{children:[Object(O.jsx)("b",{children:"Cantidad total de elementos [completeListSize]: "})," ",q," (100 por p\xe1gina)"]}),Object(O.jsxs)("li",{children:[Object(O.jsx)("b",{children:"Token de continuaci\xf3n (tomar nota para pedir la siguiente p\xe1gina) [resumptionToken]:"})," ",D]}),Object(O.jsxs)("li",{children:[Object(O.jsx)("b",{children:"P\xe1gina [cursor + 1]:"})," ",parseInt(Q)+1]})]}),Object(O.jsx)("ul",{children:N.map((function(e,t){for(var a=e.getElementsByTagName("identifier")[0].textContent,n=e.getElementsByTagName("datestamp")[0].textContent,r=[],s=e.getElementsByTagName("setSpec"),c=0;c<s.length;c++)r.push(s[c]);return Object(O.jsxs)("li",{children:[Object(O.jsxs)("b",{children:["Recurso encontrado No.",t+1+100*parseInt(Q),":"]}),Object(O.jsxs)("ul",{children:[Object(O.jsxs)("li",{children:["Identificador [identifier]: ",a]}),Object(O.jsxs)("li",{children:["Fecha [datestamp]: ",n]}),Object(O.jsxs)("li",{children:["Pertenece a los conjuntos [setSpec]:",Object(O.jsx)("ul",{children:r.map((function(e,a){return Object(O.jsx)("li",{children:e.textContent},"set-".concat(t,"-").concat(a,"-1"))}))})]}),Object(O.jsx)(G.a,{children:Object(O.jsxs)(A.a,{children:[Object(O.jsx)(A.a.Header,{children:Object(O.jsx)(G.a.Toggle,{as:P.a,variant:"link",eventKey:toString(t),children:"Metadatos"})}),Object(O.jsx)(G.a.Collapse,{eventKey:toString(t),children:Object(O.jsx)(A.a.Body,{children:Object(O.jsx)("ul",{children:L[t].map((function(e,a){return Object(O.jsxs)("li",{children:[e.tagName,": ",e.textContent]},"set-".concat(t,"-").concat(a,"-2"))}))})})})]})})]})]},t)}))})]});case"GetRecord":var H=e.getElementsByTagName("record");if(0===H.length)return"No se encontraron registros";for(var U=H[0].getElementsByTagName("identifier")[0].textContent,X=H[0].getElementsByTagName("datestamp")[0].textContent,_=[],K=H[0].getElementsByTagName("setSpec"),V=0;V<K.length;V++)_.push(K[V]);for(var Y=[],W=H[0].getElementsByTagName("metadata")[0].firstChild.children,J=0;J<W.length;J++)Y.push(W[J]);return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("b",{children:"Recurso encontrado:"}),Object(O.jsxs)("ul",{children:[Object(O.jsxs)("li",{children:["Identificador [identifier]: ",U]}),Object(O.jsxs)("li",{children:["Fecha [datestamp]: ",X]}),Object(O.jsxs)("li",{children:["Pertenece a los conjuntos [setSpec]:",Object(O.jsx)("ul",{children:_.map((function(e,t){return Object(O.jsx)("li",{children:e.textContent},"set-".concat(t,"-1"))}))})]}),Object(O.jsx)(G.a,{children:Object(O.jsxs)(A.a,{children:[Object(O.jsx)(A.a.Header,{children:Object(O.jsx)(G.a.Toggle,{as:P.a,variant:"link",eventKey:"0",children:"Metadatos"})}),Object(O.jsx)(G.a.Collapse,{eventKey:"0",children:Object(O.jsx)(A.a.Body,{children:Object(O.jsx)("ul",{children:Y.map((function(e,t){return Object(O.jsxs)("li",{children:[e.tagName,": ",e.textContent]},"set-".concat(t,"-2"))}))})})})]})})]})]})}},I=function(e){var t=e.xml,a=e.verb;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("h4",{children:"Extracto de la respuesta"}),F(t,a)]})},z=function(e){var t=e.loading,a=e.verb,r=e.context,s=e.parameters,c=e.missingMetadataFormat,i=e.metadataFormatPresentError,o=e.GETQuery,l=e.response,d=e.xml,j=e.callbacks,h=Object(n.useRef)(null);return Object(O.jsxs)("div",{children:[Object(O.jsx)(k.a,{children:Object(O.jsx)("h3",{children:"URI"})}),Object(O.jsxs)(k.a,{children:[Object(O.jsx)(N.a,{md:3,children:Object(O.jsxs)(L.a.Group,{children:[Object(O.jsx)(L.a.Label,{children:"Contexto [espec\xedfico de XOAI]"}),Object(O.jsxs)(L.a.Control,{as:"select",onChange:j.onChangeContext,children:[Object(O.jsx)("option",{value:"request",children:"Default"}),Object(O.jsx)("option",{value:"driver",children:"Driver"}),Object(O.jsx)("option",{value:"openaire",children:"OpenAIRE"}),Object(O.jsx)("option",{value:"snrd",children:"SNRD"}),Object(O.jsx)("option",{value:"doaj",children:"DOAJ"})]}),Object(O.jsx)(L.a.Text,{children:"El contexto define los esquemas de metadatos disponibles y los items alcanzados [1]"})]})}),Object(O.jsx)(N.a,{md:6,children:Object(O.jsxs)(L.a.Group,{children:[Object(O.jsx)(L.a.Label,{children:"Verbo (verb)"}),Object(O.jsxs)(L.a.Control,{as:"select",onChange:j.onChangeVerb,children:[Object(O.jsx)("option",{value:"Identify",children:"Identify: obtener datos del repositorio"}),Object(O.jsx)("option",{value:"ListMetadataFormats",children:"ListMetadataFormats: obtener listado de formatos de metadatos"}),Object(O.jsx)("option",{value:"ListSets",children:"ListSets: obtener listado de conjuntos"}),Object(O.jsx)("option",{value:"ListIdentifiers",children:"ListIdentifiers: obtener listado de cabeceras de registros"}),Object(O.jsx)("option",{value:"ListRecords",children:"ListRecords: obtener listado de registros"}),Object(O.jsx)("option",{value:"GetRecord",children:"GetRecord: obtener un \xfanico registro"})]}),Object(O.jsx)(L.a.Text,{children:"Los verbos de OAI-PMH son los tipos de peticiones posibles [2]"})]})})]}),"Identify"!==a&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(k.a,{children:Object(O.jsx)("h3",{children:"Par\xe1metros"})}),Object(O.jsxs)(k.a,{children:[["GetRecord","ListIdentifiers","ListRecords"].includes(a)&&Object(O.jsx)(N.a,{md:3,children:Object(O.jsxs)(L.a.Group,{children:[Object(O.jsx)(L.a.Label,{children:"Prefijo de metadatos (metadataPrefix)"}),Object(O.jsx)(L.a.Control,{ref:h,as:"input",placeholder:"formato",onChange:j.onChangeMetadataPrefix,value:s.metadataPrefix}),Object(O.jsx)(R.a,{target:h.current,show:c,placement:"right",children:function(e){return Object(O.jsx)(w.a,Object(E.a)(Object(E.a)({id:"overlay"},e),{},{children:"El prefijo de metadatos es obligatorio"}))}}),Object(O.jsx)(R.a,{target:h.current,show:i,placement:"right",children:function(e){return Object(O.jsx)(w.a,Object(E.a)(Object(E.a)({id:"overlay"},e),{},{children:"El prefijo de metadatos no va en esta petici\xf3n"}))}}),Object(O.jsx)(L.a.Text,{children:"Esquema de metadatos a usar [3]. Se puede consultar los esquemas disponibles para el contexto elegido usando ListMetadataFormats."})]})}),["ListIdentifiers","ListRecords"].includes(a)&&Object(O.jsx)(N.a,{md:3,children:Object(O.jsxs)(L.a.Group,{children:[Object(O.jsx)(L.a.Label,{children:"A partir de [opcional] (from)"}),Object(O.jsx)(L.a.Control,{as:"input",placeholder:"YYYY-MM-DD",onChange:j.onChangeFrom,value:s.from}),Object(O.jsx)(L.a.Text,{children:"Trae los elementos con fecha de creaci\xf3n o modificiaci\xf3n posterior a la indicada."})]})}),["ListIdentifiers","ListRecords"].includes(a)&&Object(O.jsx)(N.a,{md:3,children:Object(O.jsxs)(L.a.Group,{children:[Object(O.jsx)(L.a.Label,{children:"Hasta [opcoinal] (until) "}),Object(O.jsx)(L.a.Control,{as:"input",placeholder:"YYYY-MM-DD",onChange:j.onChangeUntil,value:s.until}),Object(O.jsx)(L.a.Text,{children:"Trae los elementos con fecha de creaci\xf3n o modificaci\xf3n anterior a la indicada."})]})}),["GetRecord","ListMetadataFormats"].includes(a)&&Object(O.jsx)(N.a,{md:3,children:Object(O.jsxs)(L.a.Group,{children:[Object(O.jsx)(L.a.Label,{children:"Identificador del elemento (identifier)"}),Object(O.jsx)(L.a.Control,{as:"input",placeholder:"oai:sedici.unlp.edu.ar:10915/1234",onChange:j.onChangeIdentifier,value:s.identifier}),Object(O.jsx)(L.a.Text,{children:"Especifica cu\xe1l registro traer. En el caso de Metadata Formats, son los formatos disponibles para ese elemento (opcional)."})]})}),["ListIdentifiers","ListRecords"].includes(a)&&Object(O.jsx)(N.a,{md:3,children:Object(O.jsxs)(L.a.Group,{children:[Object(O.jsx)(L.a.Label,{children:"Conjunto [opcional] (set)"}),Object(O.jsx)(L.a.Control,{as:"input",onChange:j.onChangeSet,value:s.set}),Object(O.jsx)(L.a.Text,{children:"Especifica de qu\xe9 conjunto se traer\xe1n los registros o los identificadores. Se puede obtener desde ListSets."})]})})]}),Object(O.jsx)(k.a,{children:["ListIdentifiers","ListRecords","ListSets"].includes(a)&&Object(O.jsx)(N.a,{md:3,children:Object(O.jsxs)(L.a.Group,{children:[Object(O.jsx)(L.a.Label,{children:"Token de continuaci\xf3n [opcional] (resumptionToken)"}),Object(O.jsx)(L.a.Control,{as:"input",onChange:j.onChangeResumptionToken,value:s.resumptionToken}),Object(O.jsx)(L.a.Text,{children:"Indica desde d\xf3nde empezar el listado. Se obtiene del resultado anterior."})]})})})]}),Object(O.jsx)(k.a,{children:Object(O.jsx)("h3",{children:"Petici\xf3n"})}),Object(O.jsx)(k.a,{children:Object(O.jsx)(N.a,{children:Object(O.jsxs)("span",{children:["http://sedici.unlp.edu.ar/oai/",Object(O.jsx)("b",{children:r}),"?verb=",Object(O.jsx)("b",{children:a}),o&&"&".concat(o)]})})}),Object(O.jsx)(k.a,{children:Object(O.jsx)(N.a,{children:t?Object(O.jsx)(B.a,{animation:"border",role:"status"}):Object(O.jsx)(P.a,{onClick:j.onClickLanzar,children:"Lanzar petici\xf3n"})})}),""!==l&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(k.a,{children:Object(O.jsx)(N.a,{children:Object(O.jsx)(G.a,{children:Object(O.jsxs)(A.a,{children:[Object(O.jsx)(A.a.Header,{children:Object(O.jsx)(G.a.Toggle,{as:P.a,variant:"link",eventKey:"0",children:"Ver respuesta en crudo"})}),Object(O.jsx)(G.a.Collapse,{className:"xml-card",eventKey:"0",children:Object(O.jsx)(N.a,{children:Object(O.jsx)(M.a,{xml:l})})})]})})})}),Object(O.jsx)(k.a,{children:Object(O.jsx)(N.a,{children:Object(O.jsx)(I,{xml:d,verb:a})})})]}),Object(O.jsx)(k.a,{children:Object(O.jsxs)(N.a,{children:[Object(O.jsx)("h3",{children:"Referencias"}),Object(O.jsxs)("ol",{children:[Object(O.jsx)("li",{children:Object(O.jsx)("a",{href:"https://wiki.lyrasis.org/display/DSDOC5x/OAI+2.0+Server",children:"DSPACE OAI 2.0 Server Docs"})}),Object(O.jsx)("li",{children:Object(O.jsx)("a",{href:"http://www.openarchives.org/OAI/openarchivesprotocol.html#ProtocolMessages",children:"OAI docs - Protocol Messages"})}),Object(O.jsx)("li",{children:Object(O.jsx)("a",{href:"http://www.openarchives.org/OAI/openarchivesprotocol.html#MetadataNamespaces",children:"OAI docs - Metadata Namespaces"})})]})]})})]})},D=function(e){Object(j.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).getParameters=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=Object.values(e);if(0===t.length)return"";var a=t.reduce((function(e,t){return""!==t||e})),n=a&&"".concat(""!==e.metadataPrefix?"metadataPrefix=".concat(e.metadataPrefix,"&"):"").concat(""!==e.from?"from=".concat(e.from,"&"):"").concat(""!==e.until?"until=".concat(e.until,"&"):"").concat(""!==e.identifier?"identifier=".concat(e.identifier,"&"):"").concat(""!==e.set?"set=".concat(e.set,"&"):"").concat(""!==e.resumptionToken?"resumptionToken=".concat(e.resumptionToken,"&"):"");return"&"===n[n.length-1]?n.slice(0,n.length-1):n},e.onChangeContext=function(t){e.setState({context:t.target.value})},e.onChangeVerb=function(t){e.setState({verb:t.target.value,parameters:{metadataPrefix:"",from:"",until:"",identifier:"",set:"",resumptionToken:""},GETQuery:"",response:""})},e.onChangeMetadataPrefix=function(t){var a=e.state.parameters;a.metadataPrefix=t.target.value,e.setState({parameters:a,GETQuery:e.getParameters(a),missingMetadataFormat:""===a.metadataPrefix&&""===e.state.parameters.resumptionToken,metadataFormatPresentError:""!==a.metadataPrefix&&""!==e.state.parameters.resumptionToken})},e.onChangeFrom=function(t){var a=e.state.parameters;a.from=t.target.value,e.setState({parameters:a,GETQuery:e.getParameters(a)})},e.onChangeUntil=function(t){var a=e.state.parameters;a.until=t.target.value,e.setState({parameters:a,GETQuery:e.getParameters(a)})},e.onChangeIdentifier=function(t){var a=e.state.parameters;a.identifier=t.target.value,e.setState({parameters:a,GETQuery:e.getParameters(a)})},e.onChangeSet=function(t){var a=e.state.parameters;a.set=t.target.value,e.setState({parameters:a,GETQuery:e.getParameters(a)})},e.onChangeResumptionToken=function(t){var a=e.state.parameters;a.resumptionToken=t.target.value,e.setState({parameters:a,GETQuery:e.getParameters(a)})},e.onClickLanzar=function(){var t=Object(o.a)(i.a.mark((function t(a){var n,r,s,c,o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!["GetRecord","ListIdentifiers","ListRecords"].includes(e.state.verb)){t.next=7;break}if(""!==e.state.parameters.metadataPrefix||""!==e.state.parameters.resumptionToken){t.next=4;break}return e.setState({missingMetadataFormat:!0}),t.abrupt("return");case 4:if(""===e.state.parameters.metadataPrefix||""===e.state.parameters.resumptionToken){t.next=7;break}return e.setState({metadataFormatPresentError:!0}),t.abrupt("return");case 7:return e.setState({loading:!0}),t.next=10,S.oaiPmhRequest("".concat(e.state.context,"?verb=").concat(e.state.verb).concat(""!==e.state.GETQuery?"&":"").concat(e.state.GETQuery));case 10:n=t.sent,e.setState({loading:!1}),r=new DOMParser,s=r.parseFromString(n,"text/xml"),c=s.getElementsByTagName("parsererror"),o=c.length>0?null:s,e.setState({response:n,parsedXML:o});case 17:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.state={loading:!1,context:"request",verb:"Identify",parameters:{metadataPrefix:"",from:"",until:"",identifier:"",set:"",resumptionToken:""},missingMetadataFormat:!1,metadataFormatPresentError:!1,GETQuery:"",response:"",parsedXML:null},e}return Object(d.a)(a,[{key:"render",value:function(){return Object(O.jsx)(z,{callbacks:{onChangeVerb:this.onChangeVerb,onChangeContext:this.onChangeContext,onChangeMetadataPrefix:this.onChangeMetadataPrefix,onChangeFrom:this.onChangeFrom,onChangeUntil:this.onChangeUntil,onChangeIdentifier:this.onChangeIdentifier,onChangeSet:this.onChangeSet,onChangeResumptionToken:this.onChangeResumptionToken,onClickLanzar:this.onClickLanzar},verb:this.state.verb,context:this.state.context,parameters:this.state.parameters,missingMetadataFormat:this.state.missingMetadataFormat,metadataFormatPresentError:this.state.metadataFormatPresentError,GETQuery:this.state.GETQuery,response:this.state.response,xml:this.state.parsedXML,loading:this.state.loading})}}]),a}(n.Component),q=function(){return Object(O.jsxs)("div",{children:[Object(O.jsx)("h2",{children:"OAI-PMH"}),Object(O.jsx)(v.a,{variant:"info",children:"OAI-PMH es un prococolo usado para cosecha de metadatos. Notar que se usa para obtenci\xf3n masiva de metadatos, no para buscar."}),Object(O.jsx)(D,{})]})},Q=function(e,t){switch(t){case"rss":return function(e){if(0===e.getElementsByTagName("channel").length)return"No se puede interpretar la respuesta";for(var t=e.getElementsByTagName("title")[0].textContent,a=e.getElementsByTagName("link")[0].textContent,n=e.getElementsByTagNameNS("http://a9.com/-/spec/opensearch/1.1/","totalResults")[0].textContent,r=e.getElementsByTagName("item"),s=[],c=0;c<r.length;c++)s.push(r[c]);return Object(O.jsxs)("div",{children:[Object(O.jsx)("h2",{children:"Feed RSS"}),Object(O.jsxs)("h3",{children:[Object(O.jsx)("a",{href:a,children:t})," (",n," elementos)"]}),s.map((function(e){var t=e.getElementsByTagName("title")[0].textContent,a=e.getElementsByTagName("link")[0].textContent,n=e.getElementsByTagName("description")[0].textContent,r=e.getElementsByTagNameNS("http://purl.org/dc/elements/1.1/","date")[0].textContent,s=new Date(r).toLocaleString("es").split(" ")[0];return Object(O.jsxs)("div",{children:[Object(O.jsxs)("h5",{children:[t," [",Object(O.jsx)("a",{href:a,children:"Enlace"}),"]"]}),Object(O.jsxs)("ul",{children:[Object(O.jsxs)("li",{children:["Publicado: ",s]}),Object(O.jsx)("p",{children:n})]})]})}))]})}(e);case"atom":return function(e){var t=e.getElementsByTagName("title");if(0===t.length||"An error has occurred"===t[0].textContent)return"No se puede interpretar la respuesta";for(var a=e.getElementsByTagName("id")[0].textContent,n=t[0].textContent,r=e.getElementsByTagNameNS("http://a9.com/-/spec/opensearch/1.1/","totalResults")[0].textContent,s=e.getElementsByTagName("entry"),c=[],i=0;i<s.length;i++)c.push(s[i]);return Object(O.jsxs)("div",{children:[Object(O.jsx)("h2",{children:"Feed Atom"}),Object(O.jsxs)("h3",{children:[Object(O.jsx)("a",{href:a,children:n})," (",r," elementos)"]}),c.map((function(e,t){var a,n=e.getElementsByTagName("title")[0].textContent,r=e.getElementsByTagName("id")[0].textContent,s=e.getElementsByTagName("name"),c=[],i=e.getElementsByTagNameNS("http://purl.org/dc/elements/1.1/","date");if(i.length>0){var o=i[0].textContent;a=new Date(o).toLocaleString("es").split(" ")[0]}else{var l=e.getElementsByTagName("published");if(l.length>0){var d=l[0].textContent;a=new Date(d).toLocaleString("es").split(" ")[0]}else a="(no disponible)"}for(var j=e.getElementsByTagName("summary")[0].textContent,h=0;h<s.length;h++)c.push(s[h]);return Object(O.jsxs)("div",{children:[Object(O.jsxs)("h5",{children:[n," [",Object(O.jsx)("a",{href:r,children:"Enlace"}),"]"]}),Object(O.jsxs)("ul",{children:[Object(O.jsxs)("li",{children:["Publicado: ",a]}),Object(O.jsxs)("li",{children:["Autor",c.length>1&&"es",": ",c.map((function(e){return e.textContent})).reduce((function(e,t){return"".concat(e,"; ").concat(t)}))]}),Object(O.jsx)("p",{children:j})]})]})}))]})}(e)}},H=function(e){var t=e.xml,a=e.format;return Object(O.jsx)(O.Fragment,{children:Q(t,a)})},U=function(e){var t=e.loading,a=e.parameters,n=e.GETQuery,r=e.response,s=e.xml,c=e.callbacks;return Object(O.jsxs)("div",{children:[Object(O.jsx)(k.a,{children:Object(O.jsx)("h3",{children:"Par\xe1metros"})}),Object(O.jsxs)(k.a,{children:[Object(O.jsx)(N.a,{md:3,children:Object(O.jsxs)(L.a.Group,{children:[Object(O.jsx)(L.a.Label,{children:"Formato (format)"}),Object(O.jsxs)(L.a.Control,{as:"select",onChange:c.onChangeFormat,children:[Object(O.jsx)("option",{value:"atom",children:"Atom"}),Object(O.jsx)("option",{value:"rss",children:"RSS"})]}),Object(O.jsx)(L.a.Text,{children:"Formato de la respuesta, apto para interactuar con lectores de sindicaci\xf3n o plugins."})]})}),Object(O.jsx)(N.a,{md:3,children:Object(O.jsxs)(L.a.Group,{children:[Object(O.jsx)(L.a.Label,{children:"Resultados por p\xe1gina (rpp)"}),Object(O.jsx)(L.a.Control,{as:"input",defaultValue:a.rpp,onChange:c.onChangeRpp})]})}),Object(O.jsx)(N.a,{md:3,children:Object(O.jsxs)(L.a.Group,{children:[Object(O.jsx)(L.a.Label,{children:"Colecci\xf3n o comunidad (scope)"}),Object(O.jsx)(L.a.Control,{as:"input",placeholder:"10915/36",onChange:c.onChangeScope}),Object(O.jsx)(L.a.Text,{children:"Pista: usar ListSets en el panel de OAI-PMH, las colecciones (col) o comunidades (com) que salen como com_AAAAA_BBB tienen como handle AAAAA/BBB."})]})})]}),Object(O.jsx)(k.a,{children:Object(O.jsx)(N.a,{children:Object(O.jsxs)(L.a.Group,{children:[Object(O.jsx)(L.a.Label,{children:"Consulta (query)"}),Object(O.jsx)(L.a.Control,{as:"input",onChange:c.onChangeQuery})]})})}),Object(O.jsx)(k.a,{children:Object(O.jsx)(N.a,{children:Object(O.jsx)(G.a,{children:Object(O.jsxs)(A.a,{children:[Object(O.jsx)(A.a.Header,{children:Object(O.jsx)(G.a.Toggle,{as:P.a,variant:"link",eventKey:"1",children:"Referencia para el campo Consulta"})}),Object(O.jsx)(G.a.Collapse,{className:"query-reference",eventKey:"1",children:Object(O.jsxs)(N.a,{children:["Formato (siempre entre par\xe9ntesis):",Object(O.jsxs)("ul",{children:[Object(O.jsxs)("li",{children:["B\xfasqueda por campo de metadatos (s\xf3lo funcionan algunos campos):",Object(O.jsx)("pre",{children:'(dc.subject:"Object-oriented Programming")'}),Object(O.jsx)("pre",{children:'(dc.title:"Parte-del-titulo")'}),Object(O.jsx)("pre",{children:'(sedici.subtype: "Tesis de grado")'})]}),Object(O.jsxs)("li",{children:["B\xfasqueda libre:",Object(O.jsx)("pre",{children:'("Microservicios")'})]}),Object(O.jsxs)("li",{children:["B\xfasqueda combinada:",Object(O.jsx)("pre",{children:'((sedici.subtype: "Tesis de grado") AND (dc.subject:"Microservicios"))'})]})]}),Object(O.jsx)("p",{})]})})]})})})}),Object(O.jsx)(k.a,{children:Object(O.jsx)("h3",{children:"Petici\xf3n"})}),Object(O.jsx)(k.a,{children:Object(O.jsx)(N.a,{children:Object(O.jsxs)("span",{children:["http://sedici.unlp.edu.ar/open-search/discover?",n]})})}),Object(O.jsx)(k.a,{children:Object(O.jsx)(N.a,{children:t?Object(O.jsx)(B.a,{animation:"border",role:"status"}):Object(O.jsx)(P.a,{onClick:c.onClickLanzar,children:"Lanzar petici\xf3n"})})}),""!==r&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(k.a,{children:Object(O.jsx)(N.a,{children:Object(O.jsx)(G.a,{children:Object(O.jsxs)(A.a,{children:[Object(O.jsx)(A.a.Header,{children:Object(O.jsx)(G.a.Toggle,{as:P.a,variant:"link",eventKey:"0",children:"Ver respuesta en crudo"})}),Object(O.jsx)(G.a.Collapse,{className:"xml-card",eventKey:"0",children:Object(O.jsx)(N.a,{children:Object(O.jsx)(M.a,{xml:r})})})]})})})}),Object(O.jsx)(k.a,{children:Object(O.jsx)(N.a,{children:Object(O.jsx)(H,{xml:s,label:"Feed",format:a.format})})})]})]})},X=function(e){Object(j.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).getParameters=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=Object.values(e);if(0===t.length)return"";var a=t.reduce((function(e,t){return""!==t||e})),n=a&&"".concat(""!==e.format?"format=".concat(e.format,"&"):"").concat(""!==e.scope?"scope=".concat(e.scope,"&"):"").concat(""!==e.query?"query=".concat(e.query,"&"):"").concat(""!==e.rpp?"rpp=".concat(e.rpp,"&"):"");return"&"===n[n.length-1]?n.slice(0,n.length-1):n},e.onChangeFormat=function(t){var a=e.state.parameters;a.format=t.target.value,e.setState({parameters:a,GETQuery:e.getParameters(a),response:""})},e.onChangeQuery=function(t){var a=e.state.parameters;a.query=t.target.value,e.setState({parameters:a,GETQuery:e.getParameters(a)})},e.onChangeScope=function(t){var a=e.state.parameters;a.scope=t.target.value,e.setState({parameters:a,GETQuery:e.getParameters(a)})},e.onChangeRpp=function(t){var a=e.state.parameters;a.rpp=t.target.value,e.setState({parameters:a,GETQuery:e.getParameters(a)})},e.onChangeOrder=function(t){var a=e.state.parameters;a.order=t.target.value,e.setState({parameters:a,GETQuery:e.getParameters(a)})},e.onClickLanzar=function(){var t=Object(o.a)(i.a.mark((function t(a){var n,r,s,c,o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({loading:!0}),t.next=3,S.openSearchRequest("?".concat(e.state.GETQuery));case 3:n=t.sent,e.setState({loading:!1}),r=new DOMParser,s=r.parseFromString(n,"text/xml"),c=s.getElementsByTagName("parsererror"),o=c.length>0?null:s,e.setState({response:n,parsedXML:o});case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.state={parameters:{format:"atom",query:"",scope:"",rpp:"10"},GETQuery:"format=atom&rpp=10",response:"",parsedXML:null,loading:!1},e}return Object(d.a)(a,[{key:"render",value:function(){return Object(O.jsx)(U,{callbacks:{onChangeFormat:this.onChangeFormat,onChangeScope:this.onChangeScope,onChangeQuery:this.onChangeQuery,onClickLanzar:this.onClickLanzar},parameters:this.state.parameters,GETQuery:this.state.GETQuery,response:this.state.response,xml:this.state.parsedXML,loading:this.state.loading})}}]),a}(n.Component),_=function(){return Object(O.jsxs)("div",{children:[Object(O.jsx)("h2",{children:"OpenSearch"}),Object(O.jsxs)(v.a,{variant:"info",children:["OpenSearch es una tecnolog\xeda utilizada para realizar b\xfasquedas sobre los recursos del repositorio. ",Object(O.jsx)("br",{}),"La URL resultante puede cargarse en cualquier lector de noticias RSS/Atom."]}),Object(O.jsx)(X,{})]})},K=function(e,t){for(var a=e.getElementsByTagNameNS("info:srw/schema/1/dc-schema","dc")[0],n=a.children,r=[],s=0;s<n.length;s++)r.push(n[s]);var c=a.getElementsByTagName("title")[0].textContent;return Object(O.jsxs)("li",{children:[c,Object(O.jsx)(G.a,{children:Object(O.jsxs)(A.a,{children:[Object(O.jsx)(A.a.Header,{children:Object(O.jsx)(G.a.Toggle,{as:P.a,variant:"link",eventKey:toString(t),children:"Metadatos"})}),Object(O.jsx)(G.a.Collapse,{eventKey:toString(t),children:Object(O.jsx)(A.a.Body,{children:Object(O.jsx)("ul",{children:r.map((function(e,t){return Object(O.jsxs)("li",{children:[e.tagName,": ",e.textContent]},"set-".concat(t,"-2"))}))})})})]})})]})},V=function(e,t,a){if(e.getElementsByTagNameNS("http://docs.oasis-open.org/ns/search-ws/sruResponse","diagnostics").length>0)return"Ocurri\xf3 un error. Consulte la respuesta en crudo para ver los detalles.";switch(t){case"explain":return function(e){for(var t=e.getElementsByTagName("databaseInfo")[0],a=t.getElementsByTagName("title")[0].textContent,n=t.getElementsByTagName("description")[0].textContent,r=e.getElementsByTagName("indexInfo")[0].getElementsByTagName("index"),s=[],c=0;c<r.length;c++)s.push(r[c]);for(var i=e.getElementsByTagName("schemaInfo")[0].children,o=[],l=0;l<i.length;l++)o.push(i[l]);return Object(O.jsxs)("div",{children:[Object(O.jsx)("h4",{children:a}),Object(O.jsx)("p",{children:Object(O.jsx)("i",{children:n})}),Object(O.jsx)("b",{children:"\xcdndices (indexInfo)"}),Object(O.jsx)("ul",{children:s.map((function(e,t){var a=e.getElementsByTagName("title")[0].textContent,n=e.getElementsByTagName("name")[0].getAttribute("set");return Object(O.jsxs)("li",{children:[n,".",a]},t)}))}),Object(O.jsx)("b",{children:"Informaci\xf3n sobre esquemas disponibles (schemaInfo)"}),Object(O.jsx)("ul",{children:o.map((function(e,t){var a=e.getElementsByTagName("title")[0].textContent,n=e.getAttribute("name");return Object(O.jsxs)("li",{children:["Esquema: ",a," (",n,")"]},t)}))})]})}(e);case"scan":return Object(O.jsx)("div",{children:Object(O.jsx)("b",{children:"Scan (no soportado)"})});case"searchRetrieve":return function(e,t){var a=e.getElementsByTagNameNS("http://docs.oasis-open.org/ns/search-ws/sruResponse","numberOfRecords")[0].textContent;if("0"===a)return Object(O.jsx)("div",{children:Object(O.jsxs)("b",{children:[a," Resultados"]})});var n=e.getElementsByTagNameNS("http://docs.oasis-open.org/ns/search-ws/sruResponse","record");if(0===n.length)return Object(O.jsxs)("div",{children:[Object(O.jsxs)("b",{children:[a," Resultados"]}),Object(O.jsx)("p",{children:"Para obtener los registros, defina el esquema de metadatos y la cantidad de registros."})]});for(var r=[],s=0;s<n.length;s++)r.push(n[s]);return Object(O.jsxs)("div",{children:[Object(O.jsxs)("b",{children:[a," Resultados"]}),Object(O.jsx)("ul",{children:r.map((function(e,a){switch(t){case"dc":return K(e,a);default:return Object(O.jsx)("li",{children:"(formato no implementado, usar dc (DublinCore))"})}}))})]})}(e,a)}},Y=function(e){var t=e.xml,a=e.operation,n=e.format;return Object(O.jsx)(O.Fragment,{children:V(t,a,n)})},W=function(e){var t=e.loading,a=e.parameters,n=e.GETQuery,r=e.response,s=e.xml,c=e.callbacks;return Object(O.jsxs)("div",{children:[Object(O.jsx)(k.a,{children:Object(O.jsx)("h3",{children:"URI"})}),Object(O.jsx)(k.a,{children:Object(O.jsx)(N.a,{md:6,children:Object(O.jsxs)(L.a.Group,{children:[Object(O.jsx)(L.a.Label,{children:"Operaci\xf3n (operation)"}),Object(O.jsxs)(L.a.Control,{as:"select",onChange:c.onChangeOperation,children:[Object(O.jsx)("option",{value:"explain",children:"Explain: obtener datos del repositorio"}),Object(O.jsx)("option",{value:"searchRetrieve",children:"SearchRetrieve: obtener listado de registros"}),Object(O.jsx)("option",{value:"scan",children:"Scan: obtener t\xe9rminos cercanos (no siempre est\xe1 soportado)"})]}),Object(O.jsx)(L.a.Text,{children:"Tipos de operaciones posibles [1]"})]})})}),"explain"!==a.operation&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(k.a,{children:Object(O.jsx)("h3",{children:"Par\xe1metros"})}),"scan"===a.operation&&Object(O.jsx)(k.a,{children:Object(O.jsx)(N.a,{md:3,children:Object(O.jsxs)(L.a.Group,{children:[Object(O.jsx)(L.a.Label,{children:"Condici\xf3n de escaneo (scanClause)"}),Object(O.jsx)(L.a.Control,{as:"input",onChange:c.onChangeScanClause}),Object(O.jsx)(L.a.Text,{children:"T\xe9rmino seg\xfan el cual se va a escanear"})]})})}),"searchRetrieve"===a.operation&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)(k.a,{children:[Object(O.jsx)(N.a,{md:3,children:Object(O.jsxs)(L.a.Group,{children:[Object(O.jsx)(L.a.Label,{children:"Cantidad de registros (maximumRecords)"}),Object(O.jsx)(L.a.Control,{as:"input",onChange:c.onChangeMaximumRecords}),Object(O.jsx)(L.a.Text,{children:"Cantidad de registros a mostrar."})]})}),Object(O.jsx)(N.a,{md:3,children:Object(O.jsxs)(L.a.Group,{children:[Object(O.jsx)(L.a.Label,{children:"Esquema de metadatos (recordSchema)"}),Object(O.jsx)(L.a.Control,{as:"input",onChange:c.onChangeRecordSchema}),Object(O.jsx)(L.a.Text,{children:"Necesario para mostrar los registros. Pista: buscar con Explain los formatos disponibles (marcxml - dc - mods2 - mods)."})]})})]}),Object(O.jsx)(k.a,{children:Object(O.jsx)(N.a,{md:6,children:Object(O.jsxs)(L.a.Group,{children:[Object(O.jsx)(L.a.Label,{children:"Consulta (query)"}),Object(O.jsx)(L.a.Control,{as:"input",onChange:c.onChangeQuery}),Object(O.jsxs)(L.a.Text,{children:["Consulta a realizar. Los campos a consultar est\xe1n listados en \xcdndices al hacer una petici\xf3n Explain.",Object(O.jsx)("br",{}),"Ejemplos:",Object(O.jsxs)("ul",{children:[Object(O.jsx)("li",{children:"dc.title=microservices"}),Object(O.jsx)("li",{children:"dc.author=newman"}),Object(O.jsx)("li",{children:"dc.author=newman and microservices"}),Object(O.jsx)("li",{children:"bath.isbn=978-1-491-95035-7"})]})]})]})})})]})]}),Object(O.jsx)(k.a,{children:Object(O.jsx)("h3",{children:"Petici\xf3n"})}),Object(O.jsx)(k.a,{children:Object(O.jsx)(N.a,{children:Object(O.jsxs)("span",{children:["https://sru.api.melinda.kansalliskirjasto.fi/bib?",n]})})}),Object(O.jsx)(k.a,{children:Object(O.jsx)(N.a,{children:t?Object(O.jsx)(B.a,{animation:"border",role:"status"}):Object(O.jsx)(P.a,{onClick:c.onClickLanzar,children:"Lanzar petici\xf3n"})})}),""!==r&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(k.a,{children:Object(O.jsx)(N.a,{children:Object(O.jsx)(G.a,{children:Object(O.jsxs)(A.a,{children:[Object(O.jsx)(A.a.Header,{children:Object(O.jsx)(G.a.Toggle,{as:P.a,variant:"link",eventKey:"0",children:"Ver respuesta en crudo"})}),Object(O.jsx)(G.a.Collapse,{className:"xml-card",eventKey:"0",children:Object(O.jsx)(N.a,{children:Object(O.jsx)(M.a,{xml:r})})})]})})})}),Object(O.jsx)(k.a,{children:Object(O.jsx)(N.a,{children:Object(O.jsx)(Y,{xml:s,operation:a.operation,format:a.recordSchema})})})]}),Object(O.jsx)(k.a,{children:Object(O.jsxs)(N.a,{children:[Object(O.jsx)("h3",{children:"Referencias"}),Object(O.jsx)("ol",{children:Object(O.jsx)("li",{children:Object(O.jsx)("a",{href:"http://www.loc.gov/standards/sru/index.html",children:"SRU- Search/Retrieve via URL"})})})]})})]})},J=function(e){Object(j.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).getParameters=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=Object.values(e);if(0===t.length)return"";var a=t.reduce((function(e,t){return""!==t||e})),n=a&&"".concat(""!==e.operation?"operation=".concat(e.operation,"&"):"").concat(""!==e.scanClause?"scanClause=".concat(e.scanClause,"&"):"").concat(""!==e.maximumRecords?"maximumRecords=".concat(e.maximumRecords,"&"):"").concat(""!==e.recordSchema?"recordSchema=".concat(e.recordSchema,"&"):"").concat(""!==e.query?"query=".concat(e.query,"&"):"");return"&"===n[n.length-1]?n.slice(0,n.length-1):n},e.onChangeOperation=function(t){e.setState({parameters:{operation:t.target.value,scanClause:"",query:"",maximumRecords:"",recordSchema:""},GETQuery:"operation=".concat(t.target.value),response:""})},e.onChangeScanClause=function(t){var a=e.state.parameters;a.scanClause=t.target.value,e.setState({parameters:a,GETQuery:e.getParameters(a)})},e.onChangeQuery=function(t){var a=e.state.parameters;a.query=t.target.value,e.setState({parameters:a,GETQuery:e.getParameters(a)})},e.onChangeMaximumRecords=function(t){var a=e.state.parameters;a.maximumRecords=t.target.value,e.setState({parameters:a,GETQuery:e.getParameters(a)})},e.onChangeRecordSchema=function(t){var a=e.state.parameters;a.recordSchema=t.target.value,e.setState({parameters:a,GETQuery:e.getParameters(a),response:""})},e.onClickLanzar=function(){var t=Object(o.a)(i.a.mark((function t(a){var n,r,s,c,o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({loading:!0}),t.next=3,S.sruRequest("?".concat(e.state.GETQuery));case 3:n=t.sent,e.setState({loading:!1}),r=new DOMParser,s=r.parseFromString(n,"text/xml"),c=s.getElementsByTagName("parsererror"),o=c.length>0?null:s,e.setState({response:n,parsedXML:o});case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.state={parameters:{operation:"explain",scanClause:"",query:"",maximumRecords:"",recordSchema:""},GETQuery:"operation=explain",response:"",parsedXML:null,loading:!1},e}return Object(d.a)(a,[{key:"render",value:function(){return Object(O.jsx)(W,{callbacks:{onChangeOperation:this.onChangeOperation,onChangeScanClause:this.onChangeScanClause,onChangeQuery:this.onChangeQuery,onChangeMaximumRecords:this.onChangeMaximumRecords,onChangeRecordSchema:this.onChangeRecordSchema,onClickLanzar:this.onClickLanzar},parameters:this.state.parameters,GETQuery:this.state.GETQuery,response:this.state.response,xml:this.state.parsedXML,loading:this.state.loading})}}]),a}(n.Component),Z=function(){return Object(O.jsxs)("div",{children:[Object(O.jsx)("h2",{children:"SRU"}),Object(O.jsx)(v.a,{variant:"info",children:"SRU es una tecnolog\xeda utilizada para realizar b\xfasquedas sobre los recursos del repositorio."}),Object(O.jsx)(J,{})]})},$="http://www.w3.org/2005/Atom",ee=function(e,t){switch(t){case"servicedocument":return function(e){for(var t=e.getElementsByTagNameNS($,"title")[0].textContent,a=e.getElementsByTagName("collection"),n=[],r=0;r<a.length;r++)n.push(a[r]);return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("h3",{children:"Service Document (Colecciones disponibles)"}),Object(O.jsxs)("h4",{children:[t," (Nombre: ID de collecci\xf3n)"]}),Object(O.jsx)("ul",{children:n.map((function(e,t){var a,n=e.getAttribute("href").split("/"),r="".concat(n[n.length-2],"/").concat(n[n.length-1]),s=e.getElementsByTagNameNS($,"title");return a=0===s.length?"(T\xedtulo no disponible)":s[0].textContent,Object(O.jsxs)("li",{children:[a,": ",r]})}))})]})}(e);case"get":return function(e){for(var t=e.getElementsByTagName("name")[0].textContent,a=e.getElementsByTagName("lastModified")[0].textContent,n=e.getElementsByTagName("metadata"),r=[],s=0;s<n.length;s++)r.push(n[s]);return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("ul",{children:[Object(O.jsxs)("li",{children:["T\xedtulo: ",t]}),Object(O.jsxs)("li",{children:["Modificado por \xfaltima vez: ",a]}),Object(O.jsxs)("li",{children:["Metadatos:",Object(O.jsx)("ul",{children:r.map((function(e,t){var a=e.getElementsByTagName("key")[0].textContent,n=e.getElementsByTagName("value")[0].textContent;return Object(O.jsxs)("li",{children:[a,": ",n]},t)}))})]})]})})}(e);case"deposit":return function(e){return e?"Resultado: "+e.getElementsByTagName("treatment")[0].textContent:"error"}(e)}},te=function(e){var t=e.xml,a=e.operation;e.format;return Object(O.jsx)(O.Fragment,{children:ee(t,a)})},ae=function(e){var t=e.entry,a=e.loading,n=e.user,r=e.pass,s=e.step,c=e.operation,i=e.route,o=e.endpoint,l=e.handle,d=e.response,j=e.xml,h=e.callbacks;return Object(O.jsxs)("div",{children:[Object(O.jsx)(k.a,{children:Object(O.jsx)(N.a,{md:6,children:Object(O.jsxs)(L.a.Group,{children:[Object(O.jsx)(L.a.Label,{children:"Operaci\xf3n"}),Object(O.jsxs)(L.a.Control,{as:"select",onChange:h.onChangeOperation,children:[Object(O.jsx)("option",{value:"servicedocument",children:"Obtener colecciones disponibles (servicedocument)"}),Object(O.jsx)("option",{value:"deposit",children:"Depositar"}),Object(O.jsx)("option",{value:"get",children:"Comprobar dep\xf3sito (via REST, ajeno a SWORD)"})]}),Object(O.jsx)(L.a.Text,{children:"Tipos de operaciones posibles [1]"})]})})}),"get"!==c&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(k.a,{children:Object(O.jsx)("h3",{children:"Headers"})}),Object(O.jsxs)(k.a,{children:[Object(O.jsx)(N.a,{md:3,children:Object(O.jsxs)(L.a.Group,{children:[Object(O.jsx)(L.a.Label,{children:"Usuario"}),Object(O.jsx)(L.a.Control,{as:"input",onChange:h.onChangeUser}),Object(O.jsx)(L.a.Text,{children:Object(O.jsxs)("ul",{children:[Object(O.jsx)("li",{children:"dspacedemo+admin[at]gmail.com [2]"}),Object(O.jsx)("li",{children:"dspacedemo+submit[at]gmail.com [2]"})]})})]})}),Object(O.jsx)(N.a,{md:3,children:Object(O.jsxs)(L.a.Group,{children:[Object(O.jsx)(L.a.Label,{children:"Contrase\xf1a"}),Object(O.jsx)(L.a.Control,{as:"input",type:"password",onChange:h.onChangePass}),Object(O.jsx)(L.a.Text,{children:"Empieza con dsp y termina con ace (6 letras) [2]"})]})}),"deposit"===c&&Object(O.jsx)(N.a,{md:3,children:Object(O.jsxs)(L.a.Group,{children:[Object(O.jsx)(L.a.Label,{children:"En nombre de (opcional)"}),Object(O.jsx)(L.a.Control,{as:"input",onChange:h.onChangeObo}),Object(O.jsx)(L.a.Text,{children:"En nombre de qui\xe9n se deposita el archivo"})]})})]})]}),Object(O.jsx)(k.a,{children:Object(O.jsx)("h3",{children:"URI"})}),Object(O.jsxs)(k.a,{children:["deposit"===c&&1===s&&Object(O.jsx)(N.a,{md:3,children:Object(O.jsxs)(L.a.Group,{children:[Object(O.jsx)(L.a.Label,{children:"Colecci\xf3n"}),Object(O.jsx)(L.a.Control,{as:"input",onChange:h.onChangeHandle}),Object(O.jsx)(L.a.Text,{children:"Obtenga el listado de las colecciones posibles con la operaci\xf3n servicedocument"})]})}),"get"===c&&Object(O.jsx)(N.a,{md:3,children:Object(O.jsxs)(L.a.Group,{children:[Object(O.jsx)(L.a.Label,{children:"Recurso"}),Object(O.jsx)(L.a.Control,{as:"input",onChange:h.onChangeHandle}),Object(O.jsx)(L.a.Text,{children:"Handle del recurso que acaba de crear"})]})})]}),"deposit"===c&&1===s&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(k.a,{children:Object(O.jsx)("h3",{children:"Cuerpo"})}),Object(O.jsx)(k.a,{children:Object(O.jsx)("h5",{children:"Metadatos"})}),Object(O.jsxs)(k.a,{children:[Object(O.jsx)(N.a,{md:3,children:Object(O.jsxs)(L.a.Group,{children:[Object(O.jsx)(L.a.Label,{children:"T\xedtulo"}),Object(O.jsx)(L.a.Control,{as:"input",onChange:h.onChangeTitle}),Object(O.jsx)(L.a.Text,{children:"T\xedtulo del recurso"})]})}),Object(O.jsx)(N.a,{md:3,children:Object(O.jsxs)(L.a.Group,{children:[Object(O.jsx)(L.a.Label,{children:"ID"}),Object(O.jsx)(L.a.Control,{as:"input",onChange:h.onChangeID}),Object(O.jsx)(L.a.Text,{children:"Identificador del recurso"})]})}),Object(O.jsx)(N.a,{md:3,children:Object(O.jsxs)(L.a.Group,{children:[Object(O.jsx)(L.a.Label,{children:"Autor"}),Object(O.jsx)(L.a.Control,{as:"input",onChange:h.onChangeAuthor}),Object(O.jsx)(L.a.Text,{children:"Nombre completo del autor"})]})})]}),Object(O.jsxs)(k.a,{children:[Object(O.jsx)(N.a,{md:3,children:Object(O.jsxs)(L.a.Group,{children:[Object(O.jsx)(L.a.Label,{children:"Descripci\xf3n (summary)"}),Object(O.jsx)(L.a.Control,{as:"input",onChange:h.onChangeSummary}),Object(O.jsx)(L.a.Text,{children:"Descripci\xf3n del recurso"})]})}),Object(O.jsx)(N.a,{md:3,children:Object(O.jsxs)(L.a.Group,{children:[Object(O.jsx)(L.a.Label,{children:"Abstract"}),Object(O.jsx)(L.a.Control,{as:"input",onChange:h.onChangeAbstract}),Object(O.jsx)(L.a.Text,{children:"Abstract del recurso"})]})}),Object(O.jsx)(N.a,{md:3,children:Object(O.jsxs)(L.a.Group,{children:[Object(O.jsx)(L.a.Label,{children:"Disponible desde"}),Object(O.jsx)(L.a.Control,{as:"input",onChange:h.onChangeAvailable}),Object(O.jsx)(L.a.Text,{children:"Desde cuando est\xe1 disponible el recurso"})]})})]}),Object(O.jsx)(k.a,{})]}),Object(O.jsx)(k.a,{children:Object(O.jsx)("h3",{children:"Petici\xf3n"})}),Object(O.jsx)(k.a,{children:Object(O.jsxs)(N.a,{children:[Object(O.jsxs)("span",{children:["http://demo.dspace.org/",i,"/",o,"/",["get","deposit"].includes(c)&&l,"get"===c&&"?expand=metadata"]}),Object(O.jsx)("h5",{children:"Headers"}),Object(O.jsx)("ul",{children:Object(O.jsxs)("li",{children:["Authorization: Basic ",y.a.encode("".concat(n,":").concat(r))]})}),"deposit"===c&&1===s&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("h5",{children:"Cuerpo de la petici\xf3n"}),Object(O.jsx)(G.a,{children:Object(O.jsxs)(A.a,{children:[Object(O.jsx)(A.a.Header,{children:Object(O.jsx)(G.a.Toggle,{as:P.a,variant:"link",eventKey:"1",children:"Ver cuerpo en crudo"})}),Object(O.jsx)(G.a.Collapse,{className:"xml-card",eventKey:"1",children:Object(O.jsx)(N.a,{children:Object(O.jsx)(M.a,{xml:t})})})]})})]})]})}),Object(O.jsx)(k.a,{children:Object(O.jsx)(N.a,{children:a?Object(O.jsx)(B.a,{animation:"border",role:"status"}):Object(O.jsx)(P.a,{onClick:h.onClickLanzar,children:"Lanzar petici\xf3n"})})}),""!==d&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(k.a,{children:Object(O.jsx)(N.a,{children:Object(O.jsx)(G.a,{children:Object(O.jsxs)(A.a,{children:[Object(O.jsx)(A.a.Header,{children:Object(O.jsx)(G.a.Toggle,{as:P.a,variant:"link",eventKey:"0",children:"Ver respuesta en crudo"})}),Object(O.jsx)(G.a.Collapse,{className:"xml-card",eventKey:"0",children:Object(O.jsx)(N.a,{children:Object(O.jsx)(M.a,{xml:d})})})]})})})}),Object(O.jsx)(k.a,{children:Object(O.jsx)(N.a,{children:j&&Object(O.jsx)(te,{xml:j,operation:c})})})]}),Object(O.jsx)(k.a,{children:Object(O.jsxs)(N.a,{children:[Object(O.jsx)("h3",{children:"Referencias"}),Object(O.jsxs)("ol",{children:[Object(O.jsx)("li",{children:Object(O.jsx)("a",{href:"https://github.com/swordapp/swordappv2-php-library/blob/521f12baf8b9fb9fe0fd1ea3fb9f2dd399433722/examples/archivematica/archivematica.php",children:"swordappv2-php-library archivematica.php"})}),Object(O.jsx)("li",{children:Object(O.jsx)("a",{href:"http://demo.dspace.org/xmlui/",children:"DSPACE Demo UI"})}),Object(O.jsx)("li",{children:Object(O.jsx)("a",{href:"https://wiki.lyrasis.org/display/DSDOC6x/SWORDv2+Server",children:"DSPACE 6 SWORD Docs"})}),Object(O.jsx)("li",{children:Object(O.jsx)("a",{href:"https://github.com/swordapp/swordappv2-php-library/blob/521f12baf8b9fb9fe0fd1ea3fb9f2dd399433722/swordappclient.php",children:"swordappv2-php-library SWORDAPPClient.php"})})]})]})})]})},ne=function(e){Object(j.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).onChangeOperation=function(t){var a;switch(t.target.value){case"servicedocument":a="servicedocument";break;case"deposit":a="collection";break;case"get":a="handle"}e.setState({operation:t.target.value,response:"",route:"get"===t.target.value?"rest":"swordv2",endpoint:a})},e.onChangeUser=function(t){e.setState({user:t.target.value})},e.onChangeTitle=function(t){var a=e.state.metadata;a.title=t.target.value,e.setState({metadata:a})},e.onChangeID=function(t){var a=e.state.metadata;a.id=t.target.value,e.setState({metadata:a})},e.onChangeAuthor=function(t){var a=e.state.metadata;a.author=t.target.value,e.setState({metadata:a})},e.onChangeSummary=function(t){var a=e.state.metadata;a.summary=t.target.value,e.setState({metadata:a})},e.onChangeAbstract=function(t){var a=e.state.metadata;a.abstract=t.target.value,e.setState({metadata:a})},e.onChangeAvailable=function(t){var a=e.state.metadata;a.available=t.target.value,e.setState({metadata:a})},e.onChangePass=function(t){e.setState({pass:t.target.value})},e.onChangeHandle=function(t){e.setState({handle:t.target.value})},e.depositStepOne=Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),e.onChangeFile=function(t){e.setState({file:t.target.files[0]})},e.getXMLEntry=function(t){return'<?xml version="1.0"?>\n<entry xmlns="http://www.w3.org/2005/Atom" xmlns:dcterms="http://purl.org/dc/terms/">\n<title>'.concat(e.state.metadata.title,"</title>\n<id>").concat(e.state.metadata.id,"</id>\n<author><name>").concat(e.state.metadata.author,"</name></author>\n<summary>").concat(e.state.metadata.summary,"</summary>\n<dcterms:abstract>").concat(e.state.metadata.abstract,"</dcterms:abstract>\n<dcterms:available>").concat(e.state.metadata.available,"</dcterms:available>\n<dcterms:creator>").concat(e.state.metadata.author,"</dcterms:creator>\n<dcterms:identifier>").concat(e.state.metadata.id,"</dcterms:identifier>\n<dcterms:title>").concat(e.state.metadata.title,"</dcterms:title>\n</entry>")},e.onClickLanzar=function(){var t=Object(o.a)(i.a.mark((function t(a){var n,r,s,c,o,l,d,j,h;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({loading:!0}),t.t0=e.state.operation,t.next="get"===t.t0?4:"servicedocument"===t.t0?8:"deposit"===t.t0?12:27;break;case 4:return t.next=6,S.restRequest("/handle",e.state.handle);case 6:return n=t.sent,t.abrupt("break",29);case 8:return t.next=10,S.swordRequest(e.state.user,e.state.pass);case 10:return n=t.sent,t.abrupt("break",29);case 12:t.t1=e.state.step,t.next=1===t.t1?15:2===t.t1?21:25;break;case 15:return e.setState({editLink:""}),r=e.getXMLEntry(),t.next=19,S.swordStepOne(e.state.user,e.state.pass,e.state.handle,r,e.state.obo,e.state.file);case 19:return n=t.sent,t.abrupt("break",26);case 21:return t.next=23,S.swordStepTwo(e.state.user,e.state.pass,e.state.editLink,e.state.obo);case 23:return n=t.sent,t.abrupt("break",26);case 25:return t.abrupt("break",26);case 26:return t.abrupt("break",29);case 27:return n="",t.abrupt("break",29);case 29:if(e.setState({loading:!1}),s=new DOMParser,"Unauthorized"!==n){t.next=36;break}return e.setState({response:"<xml><error>No autorizado</error></xml>",parsedXML:null}),t.abrupt("return");case 36:if("Bad Request"!==n){t.next=41;break}return e.setState({response:"<xml><error>Petici\xf3n err\xf3nea</error></xml>",parsedXML:null}),t.abrupt("return");case 41:if(!n.includes("ERROR")){t.next=44;break}return e.setState({response:"<xml><error>Petici\xf3n err\xf3nea</error></xml>",parsedXML:null}),t.abrupt("return");case 44:if("deposit"===e.state.operation&&e.setState({step:n.includes("has been created")?2:1}),c=s.parseFromString(n,"text/xml"),o=c.getElementsByTagName("parsererror"),!(l=o.length>0?null:c)){t.next=60;break}if("deposit"!==e.state.operation||2!==e.state.step){t.next=60;break}d=l.getElementsByTagName("link"),j=0;case 52:if(!(j<d.length)){t.next=60;break}if("edit"!==d[j].getAttribute("rel")){t.next=57;break}return h=d[j].getAttribute("href").split("/"),e.setState({editLink:h[h.length-1]}),t.abrupt("break",60);case 57:j++,t.next=52;break;case 60:e.setState({response:n,parsedXML:l});case 61:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.state={endpoint:"servicedocument",route:"swordv2",user:"",pass:"",obo:"",operation:"servicedocument",handle:"",response:"",parsedXML:null,loading:!1,file:"",step:1,editLink:"",metadata:{title:"",id:"",author:"",summary:"",abstract:"",available:""}},e}return Object(d.a)(a,[{key:"render",value:function(){return Object(O.jsx)(ae,{callbacks:{onChangeOperation:this.onChangeOperation,onChangeUser:this.onChangeUser,onChangePass:this.onChangePass,onChangeHandle:this.onChangeHandle,onChangeFile:this.onChangeFile,onChangeTitle:this.onChangeTitle,onChangeID:this.onChangeID,onChangeAuthor:this.onChangeAuthor,onChangeSummary:this.onChangeSummary,onChangeAbstract:this.onChangeAbstract,onChangeAvailable:this.onChangeAvailable,onClickLanzar:this.onClickLanzar},operation:this.state.operation,response:this.state.response,xml:this.state.parsedXML,loading:this.state.loading,endpoint:this.state.endpoint,route:this.state.route,user:this.state.user,pass:this.state.pass,handle:this.state.handle,step:this.state.step,entry:this.getXMLEntry()})}}]),a}(n.Component),re=function(){return Object(O.jsxs)("div",{children:[Object(O.jsx)("h2",{children:"SWORD"}),Object(O.jsx)(v.a,{variant:"info",children:"SWORD es una tecnolog\xeda utilizada para realizar dep\xf3sito remoto de documentos en el repositorio."}),Object(O.jsx)(ne,{})]})};function se(e){return new Promise((function(t){return setTimeout(t,e)}))}var ce=function(e){Object(j.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).pingGateway=Object(o.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:fetch(T).then((function(t){return e.setState({gateway_online:!0})})).catch(function(){var t=Object(o.a)(i.a.mark((function t(a){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,se(15e3);case 2:e.pingGateway();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}}),t)}))),e.state={gateway_online:!1},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.pingGateway()}},{key:"render",value:function(){return Object(O.jsxs)(u.a,{basename:"/",children:[Object(O.jsx)(g,{}),this.state.gateway_online?Object(O.jsxs)(x.a,{style:{marginTop:"1em"},children:[Object(O.jsx)(b.a,{path:"/",exact:!0,component:f}),Object(O.jsx)(b.a,{path:"/oai-pmh",exact:!0,component:q}),Object(O.jsx)(b.a,{path:"/open-search",exact:!0,component:_}),Object(O.jsx)(b.a,{path:"/sru",exact:!0,component:Z}),Object(O.jsx)(b.a,{path:"/sword",exact:!0,component:re})]}):Object(O.jsxs)("div",{children:["Esperando al gateway... (",Object(O.jsx)("a",{href:T,children:T}),")"]})]})}}]),a}(n.Component);s.a.render(Object(O.jsx)(ce,{}),document.getElementById("root"))},76:function(e,t,a){},78:function(e,t,a){},86:function(e,t){},88:function(e,t){}},[[101,1,2]]]);
//# sourceMappingURL=main.ffbaa43d.chunk.js.map